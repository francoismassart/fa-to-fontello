(function(){
var matchMakerArray = [
    [0, null],
    [4, 3],
    [7, 9], 
    [9, 17], 
    [14, 29], 
    [15, 153], 
    [16, 154], 
    [17, 269], 
    [20, 103], 
    [22, 104], 
    [23, 144], 
    [26, 155], 
    [27, 156], 
    [29, 209], 
    [30, 195], 
    [31, 197], 
    [57, 252], 
    [58, 253], 
    [59, 18], 
    [60, 19], 
    [62, 99], 
    [63, 275], 
    [65, 83], 
    [66, 77], 
    [67, 279], 
    [68, 152], 
    [69, 214], 
    [70, 215], 
    [71, 217], 
    [76, 213], 
    [77, 212], 
    [79, 164], 
    [80, 165], 
    [81, 33], 
    [82, 37], 
    [83, 30], 
    [84, 26], 
    [85, 41], 
    [86, 42], 
    [87, 219], 
    [88, 31], 
    [89, 27], 
    [90, 146], 
    [91, 184], 
    [92, 185], 
    [93, 186], 
    [94, 183], 
    [97, 149], 
    [101, 98], 
    [106, 55], 
    [107, 97], 
    [108, 234], 
    [110, 200], 
    [113, 166], 
    [114, 163], 
    [116, 133], 
    [119, 150], 
    [120, 151], 
    [121, 290], 
    [122, 461], 
    [123, 408], 
    [124, 21], 
    [126, 130], 
    [127, 89], 
    [128, 63], 
    [129, 64], 
    [131, 8], 
    [132, 137], 
    [133, 429], 
    [134, 53], 
    [135, 47], 
    [136, 136], 
    [137, 222], 
    [138, 414], 
    [140, 478], 
    [142, 280], 
    [143, 59], 
    [144, 126], 
    [148, 51], 
    [151, 298], 
    [152, 297], 
    [153, 92], 
    [155, 187], 
    [156, 188], 
    [157, 189], 
    [158, 190], 
    [159, 191], 
    [160, 192], 
    [161, 193], 
    [162, 194], 
    [168, 148], 
    [172, 306], 
    [174, 105], 
    [175, 49], 
    [176, 296], 
    [177, 477], 
    [178, 128], 
    [179, 254], 
    [180, 255], 
    [181, 256], 
    [186, 439], 
    [187, 440], 
    [188, 419], 
    [189, 418], 
    [191, 159], 
    [192, 160], 
    [193, 161], 
    [194, 162], 
    [197, 325], 
    [198, 326], 
    [199, 4], 
    [201, 196], 
    [202, 333], 
    [203, 334], 
    [204, 90], 
    [205, 91], 
    [206, 231], 
    [209, 264], 
    [210, 145], 
    [212, 69], 
    [213, 70], 
    [219, 338], 
    [220, 106], 
    [221, 346], 
    [222, 345], 
    [227, 344], 
    [228, 34], 
    [241, 282], 
    [247, 413], 
    [248, 120], 
    [249, 121], 
    [250, 349], 
    [251, 350], 
    [252, 351], 
    [254, 86], 
    [255, 61], 
    [260, 11], 
    [261, 100], 
    [263, 300], 
    [264, 46], 
    [265, 40], 
    [267, 96], 
    [271, 355], 
    [272, 138], 
    [273, 139], 
    [275, 135], 
    [276, 357], 
    [279, 171], 
    [280, 172], 
    [281, 173], 
    [282, 174], 
    [286, 52], 
    [288, 267], 
    [289, 268], 
    [290, 124], 
    [291, 208], 
    [293, 38], 
    [294, 39], 
    [297, 28], 
    [298, 82], 
    [299, 48], 
    [300, 78], 
    [302, 203], 
    [303, 204], 
    [304, 205], 
    [305, 314], 
    [306, 315], 
    [307, 316], 
    [308, 317], 
    [309, 318], 
    [310, 319], 
    [311, 322], 
    [312, 323], 
    [313, 107], 
    [314, 108], 
    [315, 329], 
    [316, 330], 
    [317, 327], 
    [318, 328], 
    [319, 331], 
    [320, 332], 
    [323, 475], 
    [326, 471], 
    [329, 451], 
    [330, 423], 
    [334, 397], 
    [336, 459], 
    [337, 179], 
    [338, 182], 
    [339, 180], 
    [340, 181], 
    [351, 416], 
    [352, 229], 
    [353, 232], 
    [354, 122], 
    [356, 465], 
    [360, 450], 
    [361, 158], 
    [362, 157], 
    [363, 206], 
    [364, 285], 
    [366, 463], 
    [368, 35], 
    [371, 5], 
    [374, 348], 
    [379, 443], 
    [380, 455], 
    [384, 437], 
    [397, 395], 
    [399, 453], 
    [401, 308], 
    [408, 109], 
    [409, 110], 
    [410, 111], 
    [411, 112], 
    [412, 113], 
    [413, 114], 
    [414, 115], 
    [415, 116], 
    [416, 117], 
    [418, 399], 
    [420, 369], 
    [421, 284], 
    [424, 411], 
    [429, 466], 
    [431, 237], 
    [437, 79], 
    [438, 80], 
    [440, 373], 
    [447, 377], 
    [449, 378], 
    [451, 420], 
    [458, 94], 
    [459, 95], 
    [464, 382], 
    [465, 383], 
    [466, 291], 
    [467, 292], 
    [468, 293], 
    [470, 428], 
    [478, 320], 
    [480, null], 
    [481, null], 
    [482, null], 
    [483, null], 
    [484, null], 
    [485, null], 
    [486, null], 
    [487, null], 
    [488, null], 
    [489, null], 
    [490, null], 
    [491, null], 
    [492, null], 
    [493, null], 
    [494, null], 
    [495, null], 
    [496, null], 
    [497, null], 
    [498, null], 
    [499, null], 
    [500, null], 
    [501, null], 
    [502, null], 
    [503, null], 
    [504, null], 
    [505, null], 
    [506, null], 
    [507, null], 
    [508, null], 
    [509, null], 
    [510, null], 
    [511, null], 
    [512, null], 
    [513, null], 
    [514, null], 
    [515, null], 
    [516, null], 
    [517, null], 
    [518, null], 
    [519, null]
];

var $customFont = $('#custom_icons');
var $iconsInCustomFont = $('.font-custom_icons>li', $customFont);

var $fa = $('#fontawesome');
var $iconsInFAFont = $('.selector__glyphs-list.font-fontello>li', $fa);

var i = -1;
var tot = matchMakerArray.length;
var $newIcon = null;
var $oldIcon = null;

var nextUp = function(evt) {
    i++;
    injectKeywords(null);
};

var injectKeywords = function(evt) {
	console.info('injectKeywords(#'+i+')');
    if (i < tot) {
        var pos = matchMakerArray[i];
        if (null!=pos[1]) {
            $newIcon = $($iconsInCustomFont.get(pos[0]));
            $oldIcon = $($iconsInFAFont.get(pos[1]));
            $('.icon-edit', $newIcon).click();
            $newIcon.one('ftf:edit-modal-available', copyKeywords);
            setTimeout(function(){$newIcon.trigger('ftf:edit-modal-available');}, 1000*2);
        } else {
            nextUp(null);
        }
    } else {
        console.info('done!');
    }
};

var copyKeywords = function(evt) {
	console.info('copyKeywords');
    // Keywords
    var $keywordsFld = $('#gopt__keywords');
    
    // Form
    var $form = $keywordsFld.closest('form');
    
    // Copy keywords
    var title = $oldIcon.attr('title');
    var title_arr = title.split('tags: ');
    $keywordsFld.val(title_arr[1]);
    
    // Save!
    var $saveBtn = $('[data-on-click="cmd:glyph_options.save"]', $form);
    $saveBtn.click();
    $newIcon.css('background', '');
    $newIcon.one('ftf:edit-modal-saved', nextUp);
    setTimeout(function(){$newIcon.trigger('ftf:edit-modal-saved');}, 1000*2);
};

nextUp(null);

})();